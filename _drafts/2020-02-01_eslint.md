---
title: ESLint
---

## ESLint 搭配 Prettier

疑问：

- VS Code 安装 ESLint / Prettier, npm 安装 ESLint，无 Prettier（当前情况）
- VS Code 有插件，npm 不安装 ESLint / Prettier
- VS Code 无插件，npm 安装 ESLint / Prettier
- VS Code 无插件，npm 不安装 EsLint / Prettier

### 校验代码格式

VS Code 推荐安装扩展 ESLint + Prettier

`vue create <project name>` 时选择 ESLint + Prettier

ESLint 的规则有三种级别：

- "off" 或者 0，不启用这个规则
- "warn" 或者 1，出现问题会有警告
- "error" 或者 2，出现问题会报错

启动项目时，ESLint 会根据 `.eslintrc.js` 文件中的配置选择已何种严格程度校验该项，控制台中会展示 warn、error 信息

配合 Prettier 后，可在 rules 中添加 'prettier/prettier' 配置，如下：

```js
rules: {
  'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
  'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
  "quotes": [1, "double"], //引号类型 `` "" ''
  'prettier/prettier': [
    'warn',
    {
      singleQuote: true,
    },
  ]
},
```

注意：当 ESLint 与 Prettier 配置冲突时，已 ESLint 配置为校验标准。

注意：修改 `.eslintrc.js` 后需要重启项目才生效。

### 格式化代码

VS Code 安装 Prettier 扩展，使用过格式化快捷键，会根据扩展的设置格式化代码。

项目新增 `.prettierrc.js` 或 `prettier.config.js` 文件，快捷键格式化代码时，会根据此文件配置格式化代码（需安装 Prettier 扩展）

快捷键：

- Windows：`Shift + Alt + F`
- macOS：`Shift + Option + F`

## 20221019 更新

github/system-admin

VSCode 插件：

- ESLint：读取项目中的 ESLint 配置，在编辑界面提示错误信息，标记红、黄色波浪线等
- Prettier：当设置了保存文件时格式化代码，就能够读取项目中的 Prettier 配置格式化代码

项目中的依赖：

- 当 VSCode 中没有 ESLint、Prettier 插件时，可手动检查语法、格式化代码
- 运行时输入语法问题，需要关联 Webpack(eslint-loader)、Vite(vite-plugin-eslint)
- 提交代码时，可设置语法检查控制

## 20221201 更新

`npx eslint --init` 交互式生成配置文件，根据实际情况还能询问是否安装 `@typescript-eslint/eslint-plugin`、`@typescript-eslint/parser`、`eslint-plugin-vue`

手动创建 .prettierrc.js

### eslint / prettier 冲突

不识别 .prettierrc.js 文件：

[prettier/prettier-vscode](https://github.com/prettier/prettier-vscode)

> NOTE: If any local configuration file is present (i.e. .prettierrc) the VS Code settings will NOT be used.

可能和构建工具有关

sd-process-ui 可以使用 .prettierrc.js 配置文件

[How to use Prettier in VS Code](https://www.robinwieruch.de/how-to-use-prettier-vscode/)

[How to configure Prettier and VSCode](https://glebbahmutov.com/blog/configure-prettier-in-vscode/)

[VSCode 中 ESLint、Prettier 配置冲突问题原因及解决方案](https://zhuanlan.zhihu.com/p/347339865)

[代码规范配置未生效，解决思路（涵盖 .eslintrc + .prettierrc + settings.json + .editorconfig）](https://blog.csdn.net/TrumanGao/article/details/126671077)

[vscode prettier 无效的解决办法](https://blog.csdn.net/weixin_41949144/article/details/125930381)

[vscode 的插件 prettier 配置](https://blog.csdn.net/qq_37550440/article/details/117448004)

[你值得拥有的代码格式化工具 prettier](https://zhuanlan.zhihu.com/p/370025173)

```json
{
  "//": "https://prettier.io/docs/en/options.html#prose-wrap",
  "_comment0": "trailingComma:在多行逗号分隔的句法结构中尽可能打印尾随逗号,默认es5,'es5'- 在 ES5 中有效的尾随逗号(对象、数组等)。TypeScript 中的类型参数中没有尾随逗号。'none'- 没有尾随逗号。'all'- 尽可能使用尾随逗号",
  "trailingComma": "none",
  "_comment1": "printWidth:一行长度,默认80",
  "printWidth": 120,
  "_comment2": "tabWidth:缩进级别的空格数,默认2",
  "tabWidth": 2,
  "_comment3": "semi:在语句的末尾打印分号,默认true",
  "semi": false,
  "_comment4": "singleQuote:使用单引号而不是双引号,默认false",
  "singleQuote": true,
  "_comment5": "bracketSameLine:将>多行 HTML(HTML、JSX、Vue、Angular)元素放在最后一行的末尾,而不是单独放在下一行,默认false",
  "bracketSameLine": true,
  "_comment6": "useTabs:使用制表符而不是空格缩进行,默认false",
  "useTabs": false,
  "_comment7": "quoteProps:引用对象中的属性时更改,默认'as-needed'",
  "quoteProps": "as-needed",
  "_comment8": "jsxSingleQuote:在 JSX 中使用单引号而不是双引号,默认false",
  "jsxSingleQuote": true,
  "_comment9": "bracketSpacing:在语句的末尾打印分号,默认true",
  "bracketSpacing": true,
  "_comment10": "arrowParens:引用对象中的属性时更改,默认'always','always'- 始终包括括号。例子:(x) => x'avoid'- 尽可能省略括号。例子:x => x",
  "arrowParens": "always",
  "_comment11": "endOfLine:文本文件中的行尾风格,默认'lf','lf'– 仅换行 ( \n),常见于 Linux 和 macOS 以及 git repos 内部'crlf'- 回车 + 换行字符 ( \r\n),常见于 Windows",
  "endOfLine": "lf"
}
```

color-scheme: light dark;

## 参考

- [Prettier](https://prettier.io/)

- [Prettier 中文](https://www.prettier.cn/)

- [ESLint](https://eslint.org/)

- [我的.eslintrc.js](https://www.cnblogs.com/smzd/p/10843536.html)

- [Prettier Configuration](https://prettier.io/docs/en/configuration.html)

- [ESLint Rules](https://eslint.org/docs/rules/)

---

- [eslint vscode 自动格式化\_vscode 中 prettier 和 ESLint 冲突的一点探讨](https://blog.csdn.net/weixin_39930711/article/details/110470820)

- [VSCode+Prettier+ESLint 团队代码风格统一，保存自动根据 ESLint 格式化](https://blog.csdn.net/qq_42514643/article/details/118685742)

- [pritter-Code formatter(代码格式化)配置](https://blog.csdn.net/qq_45981075/article/details/114551233)

- [vue 格式化 函数名和括号之间的空格问题解决！！！](https://blog.csdn.net/weixin_50541501/article/details/112950854)

- [使用 ESLint+Prettier 来统一前端代码风格](https://juejin.cn/post/6844903621805473800)

- [完美解决 ESlint+Prettier 各项配置冲突的语法报错问题（新手向）](https://www.cnblogs.com/coder-ljy/p/15517779.html)

- [Eslint 配置及规则说明（报错）](https://www.cnblogs.com/dianzan/p/8635390.html)

- [搞懂 ESLint 和 Prettier](https://zhuanlan.zhihu.com/p/80574300)

- [从零入手 ESLint + Prettier：一统前端代码规范](https://zhuanlan.zhihu.com/p/438761878)

- [规范代码编写风格就用 eslint 和 prettier](https://blog.csdn.net/bingbing1128/article/details/124789088)

- [代码规范配置未生效，解决思路（涵盖 .eslintrc + .prettierrc + settings.json + .editorconfig）](https://blog.csdn.net/TrumanGao/article/details/126671077)
