---
title: Vite
---

## webpack require.contenxt() 对应 vite 写法

```js
// webpack
const modulesFiles = require.context("./modules", true, /\.js$/);

const modules = modulesFiles.keys().reduce((modules, modulePath) => {
  const moduleName = modulePath.replace(/^\.\/(.*)\.\w+$/, "$1");
  const value = modulesFiles(modulePath);
  modules[moduleName] = value.default;
  return modules;
}, {});

// vite
const modulesFiles = import.meta.globEager("./modules/*.js");

// const modules = Object.values(modulesFiles).map((item) => item.default);
const modules = Object.keys(modulesFiles).reduce((modules, modulePath) => {
  const moduleName = modulePath.replace(/^\.\/modules\/(.*)\.\w+$/, "$1");
  const value = modulesFiles[modulePath];
  modules[moduleName] = value.default;
  return modules;
}, {});
```

[Vite Glob 批量导入功能与 webpack require.context 批量导入功能的对比](https://www.jianshu.com/p/f427694d659f)

[store 中需要引入很多 modules/\*.js , 可以使用 require.context,适用 webpack 和 vite 的写法](https://blog.csdn.net/qq_32442967/article/details/106097936)

- [Vite](https://vitejs.dev/)

- [Vite 中文网](https://www.vitejs.net/)
